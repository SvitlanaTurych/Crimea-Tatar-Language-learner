<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane prefHeight="872" prefWidth="1329" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="qirim.app.controllers.QuizController">

    <!-- Фоновий візерунок -->
    <ImageView fitHeight="1080" fitWidth="1920" pickOnBounds="true" preserveRatio="false">
            <Image url="@images/crimean-pattern-background.png" />
    </ImageView>

    <!-- Основний контейнер з темно-синім фоном -->
    <VBox alignment="CENTER" maxHeight="700.0" maxWidth="900.0" prefHeight="800.0" prefWidth="1600.0" style="-fx-background-color: #041F54">

        <!-- Верхня панель: Назад + Бали -->
        <HBox alignment="CENTER" prefHeight="91.0" prefWidth="1842.0" spacing="500" style="-fx-padding: 30 50 20 50;">
            <Button onAction="#goBackToHome" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand; -fx-underline: false; -fx-border-width: 0;" text="← Назад до тем">
                <font>
                    <javafx.scene.text.Font name="System" size="18.0" />
                </font>
            </Button>

            <Region HBox.hgrow="ALWAYS" />

            <Label fx:id="scoreLabel" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;" text="Бали: 0/2" />
        </HBox>

        <!-- Роздільна лінія -->
        <Separator prefWidth="1626" style="-fx-background-color: rgba(255, 255, 255, 0.3);">
            <VBox.margin>
                <Insets bottom="30" />
            </VBox.margin>
        </Separator>

        <!-- Контейнер запитання -->
        <VBox alignment="CENTER" spacing="40" style="-fx-padding: 20 100 50 100;" VBox.vgrow="ALWAYS">

            <!-- Заголовок: Запитання 1 з 2 -->
            <Label fx:id="questionNumberLabel" style="-fx-text-fill: #D4AF78; -fx-font-size: 24px; -fx-font-weight: bold;" text="Запитання 1 з 2" />

            <!-- Текст запитання -->
            <Label fx:id="questionLabel" alignment="CENTER" maxWidth="800" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-padding: 30; -fx-border-color: rgba(255, 255, 255, 0.3); -fx-border-width: 0 0 2 0;" text="Скільки голосних звуків у кримськотатарській мові?" wrapText="true" />

            <!-- Роздільник пунктиром -->
            <Region prefHeight="20" />

            <!-- Варіанти відповідей (2x2 сітка) -->
            <GridPane fx:id="optionsGrid" alignment="CENTER" hgap="30" maxWidth="900" vgap="20">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="200" prefWidth="400" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="200" prefWidth="400" />
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints vgrow="SOMETIMES" />
                    <RowConstraints vgrow="SOMETIMES" />
                </rowConstraints>

                <!-- Варіанти будуть додані динамічно з контролера -->
                <!-- Приклад кнопок: -->
                <Button prefHeight="60" prefWidth="400" style="-fx-background-color: transparent; -fx-border-color: white; -fx-border-width: 2; -fx-border-radius: 8; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand;" text="5" GridPane.columnIndex="0" GridPane.rowIndex="0" />

                <Button prefHeight="60" prefWidth="400" style="-fx-background-color: transparent; -fx-border-color: white; -fx-border-width: 2; -fx-border-radius: 8; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand;" text="7" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Button prefHeight="60" prefWidth="400" style="-fx-background-color: transparent; -fx-border-color: white; -fx-border-width: 2; -fx-border-radius: 8; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand;" text="23" GridPane.columnIndex="0" GridPane.rowIndex="1" />

                <Button prefHeight="60" prefWidth="400" style="-fx-background-color: transparent; -fx-border-color: white; -fx-border-width: 2; -fx-border-radius: 8; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand;" text="12" GridPane.columnIndex="1" GridPane.rowIndex="1" />
            </GridPane>

            <!-- Кнопки навігації -->
            <HBox fx:id="navigationHBox" alignment="CENTER" spacing="30" style="-fx-padding: 30 0 0 0;">
                <Button fx:id="prevButton" onAction="#handlePreviousQuestion" prefHeight="50" prefWidth="200" style="-fx-background-color: transparent; -fx-border-color: white; -fx-border-width: 2; -fx-border-radius: 8; -fx-text-fill: white; -fx-font-size: 16px; -fx-cursor: hand;" text="Попереднє" />

                <Button fx:id="nextButton" onAction="#handleNextQuestion" prefHeight="50" prefWidth="200" style="-fx-background-color: #D4AF78; -fx-text-fill: #043184; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;" text="Наступне" />
            </HBox>

            <!-- Повідомлення про результат (приховане за замовчуванням) -->
            <Label fx:id="resultMessageLabel" style="-fx-text-fill: #4CAF50; -fx-font-size: 22px; -fx-font-weight: bold; -fx-padding: 20; -fx-background-color: rgba(76, 175, 80, 0.2); -fx-border-color: #4CAF50; -fx-border-width: 2; -fx-border-radius: 10; -fx-background-radius: 10;" text="Тест завершено!" visible="false" />

            <!-- Кнопка повернення після завершення -->
            <Button fx:id="backToHomeButton" onAction="#goBackToHome" prefHeight="50" prefWidth="250" style="-fx-background-color: #D4AF78; -fx-text-fill: #043184; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;" text="Повернутися до тем" visible="false" />
        </VBox>

    </VBox>

</StackPane>
